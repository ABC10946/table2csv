"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(a){var u={filename:"table.csv",appendTo:"body",separator:",",newline:"\n",quoteFields:!0,trimContent:!0,excludeColumns:"",excludeRows:""},c={};function s(t){var r="",e=t.find("tr").not(c.excludeRows),i=e.first().find("td,th").filter(":visible").not(c.excludeColumns).length;return e.each(function(t,e){a(e).find("td,th").filter(":visible").not(c.excludeColumns).each(function(t,e){var o=a(e),n=c.trimContent?a.trim(o.text()):o.text();r+=c.quoteFields?'"'+n.replace('"','""')+'"':n,r+=t!==i-1?c.separator:c.newline})}),r}a.fn.table2csv=function(t,e){if("object"===_typeof(t)?(e=t,t="download"):void 0===t&&(t="download"),"string"!=typeof t)throw new Error('"action" argument must be a string');if(void 0!==e&&"object"!==_typeof(e))throw new Error('"options" argument must be an object');c=a.extend({},u,e);var o,n,r,i,l=this.filter("table");if(l.length<=0)throw new Error("table2csv must be called on a <table> element");if(1<l.length)throw new Error("converting multiple table elements at once is not supported yet");switch(t){case"download":o=s(l),n=c.filename,r=o,(i=document.createElement("a")).setAttribute("href","data:text/csv;charset=utf-8,"+encodeURIComponent(r)),i.setAttribute("download",n),i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i);break;case"output":o=s(l),a(c.appendTo).append(a("<pre>").text(o));break;default:throw new Error('"action" argument must be one of the supported action strings')}return this}}(jQuery);